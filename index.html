<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Date to Local Time</title>
</head>
<body>
	<input type="hidden" name="time">
	<p id="date"></p>
</body>

<script>
	// credit: https://stackoverflow.com/a/67221634/11433667
	const params = new URLSearchParams(window.location.search); //parse params
	let date = params.get("time"); //get time param
	const now = new Date();


	console.log(date);

	if (date && !isNaN(date)) {
		console.log("Using supplied date");
		date = new Date(Number(date) * 1000); // Convert the timestamp to milliseconds
	}
	else {
		date = now;
	}

	console.log(date);

	document.getElementById("date").innerHTML = (date === now ? "Current Time: <strong>" : (params.get("desc") ? params.get("desc") + ": " : "Unix Timestamp " + params.get("time") + " as date: ")) + "<strong>" + date + "</strong>";
</script>
